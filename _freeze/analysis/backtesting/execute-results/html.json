{
  "hash": "c20a212717d7d6df11feb5670afa4d05",
  "result": {
    "markdown": "---\ntitle: \"Backtesting with 2022 election results\"\ndate: now\ndate-format: \"h:mmA D MMMM YYYY\"\nknitr:\n  opts_chunk: \n    message: false\n---\n\n::: {.cell}\n\n:::\n\n\n# Predicting vote with available predictors\n\nHow well can we predict vote in the AES data with predictors that are available on the CURF?   This includes the SA4-level Census data predictors.\n\n\n::: {.cell hash='backtesting_cache/html/unnamed-chunk-2_f0bc7e2825415177cf629a762bf1fe57'}\n\n:::\n\n\nBrier score: 0.2471214\n\nConfusion matrix: for each actual outcome (row), distribution of predictions assigned with max prob:\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Coalition </th>\n   <th style=\"text-align:right;\"> Greens </th>\n   <th style=\"text-align:right;\"> Independent </th>\n   <th style=\"text-align:right;\"> Labor </th>\n   <th style=\"text-align:right;\"> Other </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Coalition </td>\n   <td style=\"text-align:right;\"> 53.8 </td>\n   <td style=\"text-align:right;\"> 3.6 </td>\n   <td style=\"text-align:right;\"> 2.5 </td>\n   <td style=\"text-align:right;\"> 39.9 </td>\n   <td style=\"text-align:right;\"> 0.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Greens </td>\n   <td style=\"text-align:right;\"> 28.2 </td>\n   <td style=\"text-align:right;\"> 19.4 </td>\n   <td style=\"text-align:right;\"> 4.0 </td>\n   <td style=\"text-align:right;\"> 48.3 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Independent </td>\n   <td style=\"text-align:right;\"> 34.0 </td>\n   <td style=\"text-align:right;\"> 7.0 </td>\n   <td style=\"text-align:right;\"> 15.3 </td>\n   <td style=\"text-align:right;\"> 43.7 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Labor </td>\n   <td style=\"text-align:right;\"> 38.0 </td>\n   <td style=\"text-align:right;\"> 6.9 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n   <td style=\"text-align:right;\"> 52.7 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Other </td>\n   <td style=\"text-align:right;\"> 51.5 </td>\n   <td style=\"text-align:right;\"> 4.7 </td>\n   <td style=\"text-align:right;\"> 2.7 </td>\n   <td style=\"text-align:right;\"> 40.4 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](backtesting_files/figure-html/unnamed-chunk-4-1.png){width=912}\n:::\n:::\n\n\n\n## Performance with modal missing data imputation\n\n::: {.cell}\n\n:::\n\n::: {.cell hash='backtesting_cache/html/combined_imputed_model_performance_f5526261c90459cc1d639f9d16246cfe'}\n\n:::\n\n\nBrier score: 0.2459391\n\nConfusion matrix: actual (rows) by predicted/max-prob (cols):\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Coalition </th>\n   <th style=\"text-align:right;\"> Greens </th>\n   <th style=\"text-align:right;\"> Independent </th>\n   <th style=\"text-align:right;\"> Labor </th>\n   <th style=\"text-align:right;\"> Other </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Coalition </td>\n   <td style=\"text-align:right;\"> 54.1 </td>\n   <td style=\"text-align:right;\"> 4.3 </td>\n   <td style=\"text-align:right;\"> 2.1 </td>\n   <td style=\"text-align:right;\"> 39.3 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Greens </td>\n   <td style=\"text-align:right;\"> 28.7 </td>\n   <td style=\"text-align:right;\"> 20.3 </td>\n   <td style=\"text-align:right;\"> 3.7 </td>\n   <td style=\"text-align:right;\"> 47.3 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Independent </td>\n   <td style=\"text-align:right;\"> 32.8 </td>\n   <td style=\"text-align:right;\"> 7.0 </td>\n   <td style=\"text-align:right;\"> 15.1 </td>\n   <td style=\"text-align:right;\"> 45.2 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Labor </td>\n   <td style=\"text-align:right;\"> 38.0 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n   <td style=\"text-align:right;\"> 1.7 </td>\n   <td style=\"text-align:right;\"> 52.0 </td>\n   <td style=\"text-align:right;\"> 0.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Other </td>\n   <td style=\"text-align:right;\"> 53.4 </td>\n   <td style=\"text-align:right;\"> 4.3 </td>\n   <td style=\"text-align:right;\"> 3.4 </td>\n   <td style=\"text-align:right;\"> 38.8 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](backtesting_files/figure-html/unnamed-chunk-8-1.png){width=912}\n:::\n:::\n\n\n# Inference for populations\n\n## Vote marginal for the CURF data from imputed data\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> 2022 House vote </th>\n   <th style=\"text-align:right;\">  </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Coalition </td>\n   <td style=\"text-align:right;\"> 19.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Greens </td>\n   <td style=\"text-align:right;\"> 20.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Independent </td>\n   <td style=\"text-align:right;\"> 20.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Labor </td>\n   <td style=\"text-align:right;\"> 20.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Other </td>\n   <td style=\"text-align:right;\"> 20.0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Predict onto CURF from model fit to complete AES data\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> 2022 House vote </th>\n   <th style=\"text-align:right;\"> MaxProb </th>\n   <th style=\"text-align:right;\"> SumProbs </th>\n   <th style=\"text-align:right;\"> Actual </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Coalition </td>\n   <td style=\"text-align:right;\"> 45.4 </td>\n   <td style=\"text-align:right;\"> 35.9 </td>\n   <td style=\"text-align:right;\"> 35.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Greens </td>\n   <td style=\"text-align:right;\"> 9.1 </td>\n   <td style=\"text-align:right;\"> 16.0 </td>\n   <td style=\"text-align:right;\"> 12.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Independent </td>\n   <td style=\"text-align:right;\"> 1.9 </td>\n   <td style=\"text-align:right;\"> 7.4 </td>\n   <td style=\"text-align:right;\"> 5.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Labor </td>\n   <td style=\"text-align:right;\"> 43.0 </td>\n   <td style=\"text-align:right;\"> 34.9 </td>\n   <td style=\"text-align:right;\"> 32.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Other </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 5.7 </td>\n   <td style=\"text-align:right;\"> 14.2 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}